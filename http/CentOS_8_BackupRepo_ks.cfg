
url --url="http://bay.uchicago.edu/centos/8.1.1911/BaseOS/x86_64/os"
rootpw password
network --activate --ipv6=auto --bootproto=dhcp --device=ens192
network --hostname=Packer-CentOS8-BackupRepo

zerombr
clearpart --all --drives=sda,sdb
part /boot --fstype=ext4 --size=500 --ondisk=sda
part pv.01 --size=1024 --grow --ondisk=sda
part pv.02 --size=1024 --grow --ondisk=sdb
volgroup vg1 pv.01
volgroup vg2 pv.02
logvol swap --vgname=vg1 --size=2048 --name=lv_swap
logvol / --vgname=vg1 --fstype=xfs --size=2048 --grow --name=lv_root
logvol /data --vgname=vg2 --fstype=xfs --size=2048 --grow --name=lv_data

bootloader --location=mbr --boot-drive=sda

keyboard --vckeymap=us --xlayouts='us'
eula --agreed
firstboot --disable

lang en_US.UTF-8
timezone America/Chicago --utc --nontp

authselect select minimal

reboot

%packages
@core
perl
%end

%post --log=/root/ks-post.log
curl -O http://yum.puppet.com/puppet-release-el-8.noarch.rpm
rpm -i puppet-release-el-8.noarch.rpm
dnf install -y puppet-agent
systemctl disable puppet
rm -f puppet-release-el-8.noarch.rpm
%end
